// Code generated by soft.generator.go. DO NOT EDIT.

// *****************************************************************************
// Copyright(c) 2021 MASA Group
//
// This Source Code Form is subject to the terms of the Mozilla Public
// License, v. 2.0. If a copy of the MPL was not distributed with this
// file, You can obtain one at https://mozilla.org/MPL/2.0/.
//
// *****************************************************************************

package ecore

// EReferenceImpl is the implementation of the model object 'EReference'
type EReferenceImpl struct {
	EStructuralFeatureExt
	eKeys            EList
	eOpposite        EReference
	isContainment    bool
	isResolveProxies bool
}
type eReferenceInitializers interface {
	initEKeys() EList
}

type eReferenceBasics interface {
	basicGetEOpposite() EReference
	basicGetEReferenceType() EClass
}

// newEReferenceImpl is the constructor of a EReferenceImpl
func newEReferenceImpl() *EReferenceImpl {
	e := new(EReferenceImpl)
	e.SetInterfaces(e)
	e.Initialize()
	return e
}

func (e *EReferenceImpl) Initialize() {
	e.EStructuralFeatureExt.Initialize()
	e.isContainment = false
	e.isResolveProxies = true

}

func (e *EReferenceImpl) asEReference() EReference {
	return e.GetInterfaces().(EReference)
}

func (e *EReferenceImpl) asInitializers() eReferenceInitializers {
	return e.GetInterfaces().(eReferenceInitializers)
}

func (e *EReferenceImpl) asBasics() eReferenceBasics {
	return e.GetInterfaces().(eReferenceBasics)
}

func (e *EReferenceImpl) EStaticClass() EClass {
	return GetPackage().GetEReference()
}

func (e *EReferenceImpl) EStaticFeatureCount() int {
	return EREFERENCE_FEATURE_COUNT
}

// GetEKeys get the value of eKeys
func (e *EReferenceImpl) GetEKeys() EList {
	if e.eKeys == nil {
		e.eKeys = e.asInitializers().initEKeys()
	}
	return e.eKeys
}

// GetEOpposite get the value of eOpposite
func (e *EReferenceImpl) GetEOpposite() EReference {
	if e.eOpposite != nil && e.eOpposite.EIsProxy() {
		oldEOpposite := e.eOpposite
		newEOpposite := e.EResolveProxy(oldEOpposite).(EReference)
		e.eOpposite = newEOpposite
		if newEOpposite != oldEOpposite {
			if e.ENotificationRequired() {
				e.ENotify(NewNotificationByFeatureID(e, RESOLVE, EREFERENCE__EOPPOSITE, oldEOpposite, newEOpposite, NO_INDEX))
			}
		}
	}
	return e.eOpposite
}

func (e *EReferenceImpl) basicGetEOpposite() EReference {
	return e.eOpposite
}

// SetEOpposite set the value of eOpposite
func (e *EReferenceImpl) SetEOpposite(newEOpposite EReference) {
	oldEOpposite := e.eOpposite
	e.eOpposite = newEOpposite
	if e.ENotificationRequired() {
		e.ENotify(NewNotificationByFeatureID(e.AsEObject(), SET, EREFERENCE__EOPPOSITE, oldEOpposite, newEOpposite, NO_INDEX))
	}
}

// GetEReferenceType get the value of eReferenceType
func (e *EReferenceImpl) GetEReferenceType() EClass {
	panic("GetEReferenceType not implemented")
}

func (e *EReferenceImpl) basicGetEReferenceType() EClass {
	panic("GetEReferenceType not implemented")
}

// IsContainer get the value of isContainer
func (e *EReferenceImpl) IsContainer() bool {
	panic("IsContainer not implemented")
}

// IsContainment get the value of isContainment
func (e *EReferenceImpl) IsContainment() bool {
	return e.isContainment
}

// SetContainment set the value of isContainment
func (e *EReferenceImpl) SetContainment(newIsContainment bool) {
	oldIsContainment := e.isContainment
	e.isContainment = newIsContainment
	if e.ENotificationRequired() {
		e.ENotify(NewNotificationByFeatureID(e.AsEObject(), SET, EREFERENCE__CONTAINMENT, oldIsContainment, newIsContainment, NO_INDEX))
	}
}

// IsResolveProxies get the value of isResolveProxies
func (e *EReferenceImpl) IsResolveProxies() bool {
	return e.isResolveProxies
}

// SetResolveProxies set the value of isResolveProxies
func (e *EReferenceImpl) SetResolveProxies(newIsResolveProxies bool) {
	oldIsResolveProxies := e.isResolveProxies
	e.isResolveProxies = newIsResolveProxies
	if e.ENotificationRequired() {
		e.ENotify(NewNotificationByFeatureID(e.AsEObject(), SET, EREFERENCE__RESOLVE_PROXIES, oldIsResolveProxies, newIsResolveProxies, NO_INDEX))
	}
}

func (e *EReferenceImpl) initEKeys() EList {
	return NewBasicEObjectList(e.AsEObjectInternal(), EREFERENCE__EKEYS, -1, false, false, false, true, false)
}

func (e *EReferenceImpl) EGetFromID(featureID int, resolve bool) any {
	switch featureID {
	case EREFERENCE__CONTAINER:
		return e.asEReference().IsContainer()
	case EREFERENCE__CONTAINMENT:
		return e.asEReference().IsContainment()
	case EREFERENCE__EKEYS:
		list := e.asEReference().GetEKeys()
		if !resolve {
			if objects, _ := list.(EObjectList); objects != nil {
				return objects.GetUnResolvedList()
			}
		}
		return list
	case EREFERENCE__EOPPOSITE:
		if resolve {
			return e.asEReference().GetEOpposite()
		}
		return e.asBasics().basicGetEOpposite()
	case EREFERENCE__EREFERENCE_TYPE:
		if resolve {
			return e.asEReference().GetEReferenceType()
		}
		return e.asBasics().basicGetEReferenceType()
	case EREFERENCE__RESOLVE_PROXIES:
		return e.asEReference().IsResolveProxies()
	default:
		return e.EStructuralFeatureExt.EGetFromID(featureID, resolve)
	}
}

func (e *EReferenceImpl) ESetFromID(featureID int, newValue any) {
	switch featureID {
	case EREFERENCE__CONTAINMENT:
		e.asEReference().SetContainment(newValue.(bool))
	case EREFERENCE__EKEYS:
		list := e.asEReference().GetEKeys()
		list.Clear()
		list.AddAll(newValue.(EList))
	case EREFERENCE__EOPPOSITE:
		newValueOrNil, _ := newValue.(EReference)
		e.asEReference().SetEOpposite(newValueOrNil)
	case EREFERENCE__RESOLVE_PROXIES:
		e.asEReference().SetResolveProxies(newValue.(bool))
	default:
		e.EStructuralFeatureExt.ESetFromID(featureID, newValue)
	}
}

func (e *EReferenceImpl) EUnsetFromID(featureID int) {
	switch featureID {
	case EREFERENCE__CONTAINMENT:
		e.asEReference().SetContainment(false)
	case EREFERENCE__EKEYS:
		e.asEReference().GetEKeys().Clear()
	case EREFERENCE__EOPPOSITE:
		e.asEReference().SetEOpposite(nil)
	case EREFERENCE__RESOLVE_PROXIES:
		e.asEReference().SetResolveProxies(true)
	default:
		e.EStructuralFeatureExt.EUnsetFromID(featureID)
	}
}

func (e *EReferenceImpl) EIsSetFromID(featureID int) bool {
	switch featureID {
	case EREFERENCE__CONTAINER:
		return e.asEReference().IsContainer() != false
	case EREFERENCE__CONTAINMENT:
		return e.isContainment != false
	case EREFERENCE__EKEYS:
		return e.eKeys != nil && e.eKeys.Size() != 0
	case EREFERENCE__EOPPOSITE:
		return e.eOpposite != nil
	case EREFERENCE__EREFERENCE_TYPE:
		return e.asEReference().GetEReferenceType() != nil
	case EREFERENCE__RESOLVE_PROXIES:
		return e.isResolveProxies != true
	default:
		return e.EStructuralFeatureExt.EIsSetFromID(featureID)
	}
}
